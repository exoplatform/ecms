<?xml version="1.0" encoding="ISO-8859-1"?>

<configuration
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.exoplatform.org/xml/ns/kernel_1_2.xsd http://www.exoplatform.org/xml/ns/kernel_1_2.xsd"
 xmlns="http://www.exoplatform.org/xml/ns/kernel_1_2.xsd">
    
    <external-component-plugins>
        <target-component>
            org.exoplatform.commons.upgrade.UpgradeProductService
        </target-component>
        <component-plugin>
            <name>
                NodeTypeTemplateUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.templates.NodeTypeTemplateUpgradePlugin
            </type>
            <description>
                Upgrade templates for node types
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                MetadataTemplateUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.templates.MetadataTemplateUpgradePlugin
            </type>
            <description>
                Upgrade templates to view/edit metadata
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                QueryUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.query.QueryUpgradePlugin
            </type>
            <description>
                Upgrade queries
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                ScriptUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.script.ScriptUpgradePlugin
            </type>
            <description>
                Upgrade groovy scripts
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                SiteExplorerTemplateUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.views.SiteExplorerTemplateUpgradePlugin
            </type>
            <description>
                Upgrade view templates in Site Explorer
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                WCMTemplateUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.templates.WCMTemplateUpgradePlugin
            </type>
            <description>
                Upgrade view templates of WCM like CLV templates and search templates
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                UserViewUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.views.UserViewUpgradePlugin
            </type>
            <description>
                Upgrade views for Site Explorer
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                NodePathUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.path.NodePathUpgradePlugin
            </type>
            <description>
                Upgrade nodes which path was changed
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
                <value-param>
                    <name>
                        source.node
                    </name>
                    <description>
                        The old position of moved node (workspace name + absolute path)
                    </description>
                    <value>
                        collaboration:/sites content/live
                    </value>
                </value-param>
                <value-param>
                    <name>
                        target.node
                    </name>
                    <description>
                        The new position of moved node (absolute path)
                    </description>
                    <value>
                        /sites
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                UpgradeExoViewNodeTypePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.views.UpgradeExoViewNodeTypePlugin
            </type>
            <description>
                Upgrade exo:view node type plugin
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>
                SanitizationUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.sanitization.SanitizationUpgradePlugin
            </type>
            <description>
                Upgrade Plugin which used to migrate all the things related to the changing via sanitization specification
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        
        <component-plugin>
            <name>
                ActivitiesUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.activities.ActivitiesUpgradePlugin
            </type>
            <description>
                Upgrade Plugin which used to migrate all the things related to the changing activities
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>

        <component-plugin>
            <name>
                TagsUpgradePlugin
            </name>
            <set-method>
                addUpgradePlugin
            </set-method>
            <type>
                org.exoplatform.ecms.upgrade.folksonomy.TagsUpgradePlugin
            </type>
            <description>
                Upgrade Plugin which used to migrate all old tag to new tag storge.
            </description>
            <init-params>
                <value-param>
                    <name>
                        product.group.id
                    </name>
                    <description>
                        The groupId of the product
                    </description>
                    <value>
                        org.exoplatform.ecms
                    </value>
                </value-param>
                <value-param>
                    <name>
                        plugin.execution.order
                    </name>
                    <description>
                        The plugin execution order
                    </description>
                    <value>
                        2
                    </value>
                </value-param>
            </init-params>
        </component-plugin>
        
        <component-plugin>
            <name>WebcontentChildUpgradePlugin</name>
            <set-method>addUpgradePlugin</set-method>
            <type>org.exoplatform.ecms.upgrade.webcontent.WebcontentChildUpgradePlugin</type>
            <description>Add mixin exo:webContentChild to children of exo:webcontent</description>
            <init-params>
                <value-param>
                    <name>product.group.id</name>
                    <description>The groupId of the product</description>
                    <value>org.exoplatform.ecms</value>
                </value-param>
                <value-param>
                    <name>plugin.execution.order</name>
                    <description>The plugin execution order</description>
                    <value>2</value>
                </value-param>
            </init-params>
        </component-plugin>

        <component-plugin>
            <name>ActionTypeUpgradePlugin</name>
            <set-method>addUpgradePlugin</set-method>
            <type>org.exoplatform.ecms.upgrade.nodetypes.ActionTypeUpgradePlugin</type>
            <description>change attribute protected of exo:script and exo:scriptLabel properties of some action node type to false</description>
            <init-params>
                <value-param>
                    <name>product.group.id</name>
                    <description>The groupId of the product</description>
                    <value>org.exoplatform.ecms</value>
                </value-param>
                <value-param>
                    <name>plugin.execution.order</name>
                    <description>The plugin execution order</description>
                    <value>2</value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>WaiportalTranslationsUpgradePlugin</name>
            <set-method>addUpgradePlugin</set-method>
            <type>org.exoplatform.ecms.upgrade.wai.WaiportalTranslationsUpgradePlugin</type>
            <description>WaiportalTranslationsUpgradePlugin</description>
            <init-params>
                <value-param>
                    <name>product.group.id</name>
                    <description>The groupId of the product</description>
                    <value>org.exoplatform.ecms</value>
                </value-param>
                <value-param>
                    <name>plugin.execution.order</name>
                    <description>The plugin execution order</description>
                    <value>2</value>
                </value-param>
            </init-params>
        </component-plugin>
        <component-plugin>
            <name>ActionableNodeTypeUpgradePlugin</name>
            <set-method>addUpgradePlugin</set-method>
            <type>org.exoplatform.ecms.upgrade.nodetypes.ActionableNodeTypeUpgradePlugin</type>
            <description>Make exo:actions property of exo:actionable nodetype is not mandatory</description>
            <init-params>
                <value-param>
                    <name>product.group.id</name>
                    <description>The groupId of the product</description>
                    <value>org.exoplatform.ecms</value>
                </value-param>
                <value-param>
                    <name>plugin.execution.order</name>
                    <description>The plugin execution order</description>
                    <value>2</value>
                </value-param>
            </init-params>
        </component-plugin>

    </external-component-plugins>

  <external-component-plugins>
    <target-component>org.exoplatform.services.wcm.portal.artifacts.CreatePortalArtifactsService</target-component>
    <component-plugin>
      <name>template-Upgrade-WAIPortal-translation</name>
      <set-method>addPlugin</set-method>
      <type>org.exoplatform.services.cms.i18n.impl.AddTranslationPlugin</type>
      <description>This plugin add some translations when creating new portal</description>
      <init-params>
        <object-param>
          <name>translation1</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/home</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/home</string></value>
              </collection>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation2</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/accessibility</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/accessibility</string></value>
              </collection>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation3</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/site artifacts/Footer</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/site artifacts/waiportal-fr/Footer</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation4</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/technology/integration</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/technology/integration</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation5</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/technology/technical-specifications</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/technology/technical-specifications</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation6</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/features/portal-content</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/features/portal-content</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation7</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/features/social-collaboration</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/features/social-collaboration</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation8</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/features/the-platform-difference</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/features/the-platform-difference</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation9</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/customers/customer-success-stories</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/customers/customer-success-stories</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation10</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/customers/subscription-support</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/customers/subscription-support</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation11</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/competence/prepare-your-team</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/competence/prepare-your-team</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
        <object-param>
          <name>translation12</name>
          <description>Translation Descriptor</description>
          <object type="org.exoplatform.services.deployment.plugins.TranslationDeploymentDescriptor">
            <field name="translationNodePaths">
              <collection type="java.util.ArrayList">
                <value><string>collaboration:/sites/{portalName}/web contents/competence/work-with-a-partner</string></value>
                <value><string>collaboration:/sites/{portalName}/web contents/fr/competence/work-with-a-partner</string></value>
              </collection>
            </field>
            <field name="overrideExistence">
              <boolean>true</boolean>
            </field>
          </object>
        </object-param>
      </init-params>
    </component-plugin>
  </external-component-plugins>
</configuration>


